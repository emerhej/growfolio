<template>
    <require from="../debug"></require>
    <require from="../value-converters/percent"></require>

    <table class="table" aurelia-table="data.bind: holdings; display-data.bind: $displayData">
        <thead>
            <tr>
                <th>Symbol</th>
                <th>Last Price</th>
                <th>Change</th>
                <th>Shares</th>
                <th>Cost Basis</th>
                <th>Market Value</th>
                <th>Gain</th>
                <th>Gain %</th>
                <th>Day's Gain</th>
            </tr>
        </thead>
        <tbody>
            <tr repeat.for="holding of $displayData">
                <td>${holding.symbol}</td>
                <td>${holding.quote.LastTradePriceOnly}</td>
                <td class=${numberColor(holding.quote.Change)}>
                    ${holding.quote.Change_PercentChange}
                </td>
                <td>${holding.shares}</td>
                <td>${holding.cost}</td>
                <td>${holding.mkt_value}</td>
                <td class=${numberColor(holding.gain)}>${holding.gain}</td>
                <td class=${numberColor(holding.gain_percent)}>${holding.gain_percent | percent}</td>
                <td class=${numberColor(holding.days_gain)}>${holding.days_gain}</td>
            </tr>
        </tbody>
    </table>
    <!-- <debug></debug> -->
</template>